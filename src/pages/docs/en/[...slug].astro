---
import { getEntryBySlug } from 'astro:content';
import DocLayout from '@/layouts/DocLayout.astro';

const { lang, slug = [] } = Astro.params;
const fullSlug = Array.isArray(slug) ? slug.join('/') : slug;
const entry = await getEntryBySlug('docs', `${lang}/${fullSlug}`);

if (!entry) {
  throw new Error(`Document Not Found: ${lang}/${fullSlug}`);
}
---

<DocLayout lang={lang} entry={entry} />